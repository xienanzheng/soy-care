import{a as i,e as o,s}from"./index-DykhQkCz.js";function u(){const{user:t}=i(),r=o({queryKey:["community_posts",t==null?void 0:t.id],queryFn:async()=>{if(!t)return[];const{data:n,error:a}=await s.from("community_posts").select("*").order("created_at",{ascending:!1}).limit(20);if(a)throw a;return(n||[]).map(e=>({id:e.id,petId:e.pet_id,ownerName:e.owner_name,content:e.content,photoUrl:e.photo_url||void 0,likes:e.likes||void 0,createdAt:e.created_at}))},enabled:!!t});return{posts:r.data??[],isLoading:r.isLoading,refetch:r.refetch}}export{u};
