import{c as pe,z,R as v,A as ht,r as x,a as Er,e as $r,s as Ut,t as D,u as Dr,b as Mr,j as i,d as ge}from"./index-DykhQkCz.js";import{M as Je,P as Qe,B as q}from"./MobileLayout-D0P8EqVx.js";import{B as et}from"./BottomNav-B9ClJoKd.js";import{P as Tr}from"./PetAvatar-Bi96YrWD.js";import{P as Cr}from"./PetSelector-DeSwfx4H.js";import{s as Rr,i as tt,D as Ir}from"./DateSelector-AJ21rQkV.js";import{u as Br,a as Fr,b as zr,c as Kr}from"./useLogs-xxhwBdP6.js";import{d as Vr,f as Wr}from"./petAge-D-c7gpnm.js";import{E as Ur,S as Re}from"./SummaryCard-XhoA62hH.js";import{u as qr,a as Gr,B as At,f as Nt}from"./useVetChat-xWDf4eIf.js";import{T as rt}from"./textarea-Cn23d7ZC.js";import{t as nt}from"./differenceInCalendarDays-qwJqrl5B.js";import{U as St,T as Hr,P as Zr,R as Yr}from"./utensils-crossed-BFnIAvKJ.js";import{S as Xr}from"./sparkles-DVQITgTg.js";import{f as k,p as F,_ as qt,b as Gt,c as Jr,d as Qr,i as se,e as Ht,L as C,g as Zt,h as Yt,j as en,D as yt,k as Xt,l as G,m as Jt,n as Qt,G as er,o as Ie,q as tn,r as Pe,s as rn,C as nn,t as an,u as _t,v as sn,E as on,w as tr,X as ot,Y as ct,x as cn,y as ln,R as at,T as un,A as dn,a as fn,M as pn}from"./AreaChart-xA_alHb2.js";import{f as it}from"./format-DsNdWjgr.js";import"./plus-CKAhW2G1.js";import"./chevron-right-BDWtZfPp.js";import"./rewards-DUz26ILh.js";import"./differenceInMonths-DSTze7pK.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=pe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=pe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=pe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=pe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=pe("Radar",[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function st(t,e){const n=+nt(t),[r,a]=[+nt(e.start),+nt(e.end)].sort((o,s)=>o-s);return n>=r&&n<=a}var xn=["points","className","baseLinePoints","connectNulls"];function ce(){return ce=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ce.apply(this,arguments)}function bn(t,e){if(t==null)return{};var n=jn(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jn(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Et(t){return kn(t)||On(t)||wn(t)||Pn()}function Pn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wn(t,e){if(t){if(typeof t=="string")return lt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(t,e)}}function On(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kn(t){if(Array.isArray(t))return lt(t)}function lt(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $t=function(e){return e&&e.x===+e.x&&e.y===+e.y},An=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){$t(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),$t(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},xe=function(e,n){var r=An(e);n&&(r=[r.reduce(function(o,s){return[].concat(Et(o),Et(s))},[])]);var a=r.map(function(o){return o.reduce(function(s,c,u){return"".concat(s).concat(u===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},Nn=function(e,n,r){var a=xe(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(xe(n.reverse(),r).slice(1))},rr=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,o=e.connectNulls,s=bn(e,xn);if(!n||!n.length)return null;var c=z("recharts-polygon",r);if(a&&a.length){var u=s.stroke&&s.stroke!=="none",m=Nn(n,a,o);return v.createElement("g",{className:c},v.createElement("path",ce({},k(s,!0),{fill:m.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:m})),u?v.createElement("path",ce({},k(s,!0),{fill:"none",d:xe(n,o)})):null,u?v.createElement("path",ce({},k(s,!0),{fill:"none",d:xe(a,o)})):null)}var f=xe(n,o);return v.createElement("path",ce({},k(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",className:c,d:f}))},Sn=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function we(t){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(t)}function _n(t,e){if(t==null)return{};var n=Ln(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ln(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z(){return Z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z.apply(this,arguments)}function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dt(Object(n),!0).forEach(function(r){En(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function En(t,e,n){return e=$n(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $n(t){var e=Dn(t,"string");return we(e)=="symbol"?e:e+""}function Dn(t,e){if(we(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(we(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mn=function(e,n,r,a){var o="";return a.forEach(function(s,c){var u=F(n,r,e,s);c?o+="L ".concat(u.x,",").concat(u.y):o+="M ".concat(u.x,",").concat(u.y)}),o+="Z",o},Tn=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,o=e.outerRadius,s=e.polarAngles,c=e.radialLines;if(!s||!s.length||!c)return null;var u=Oe({stroke:"#ccc"},k(e,!1));return v.createElement("g",{className:"recharts-polar-grid-angle"},s.map(function(m){var f=F(n,r,a,m),d=F(n,r,o,m);return v.createElement("line",Z({},u,{key:"line-".concat(m),x1:f.x,y1:f.y,x2:d.x,y2:d.y}))}))},Cn=function(e){var n=e.cx,r=e.cy,a=e.radius,o=e.index,s=Oe(Oe({stroke:"#ccc"},k(e,!1)),{},{fill:"none"});return v.createElement("circle",Z({},s,{className:z("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(o),cx:n,cy:r,r:a}))},Rn=function(e){var n=e.radius,r=e.index,a=Oe(Oe({stroke:"#ccc"},k(e,!1)),{},{fill:"none"});return v.createElement("path",Z({},a,{className:z("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:Mn(n,e.cx,e.cy,e.polarAngles)}))},In=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:v.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(a,o){var s=o;return r==="circle"?v.createElement(Cn,Z({key:s},e,{radius:a,index:o})):v.createElement(Rn,Z({key:s},e,{radius:a,index:o}))}))},nr=function(e){var n=e.cx,r=n===void 0?0:n,a=e.cy,o=a===void 0?0:a,s=e.innerRadius,c=s===void 0?0:s,u=e.outerRadius,m=u===void 0?0:u,f=e.gridType,d=f===void 0?"polygon":f,p=e.radialLines,y=p===void 0?!0:p,h=_n(e,Sn);return m<=0?null:v.createElement("g",{className:"recharts-polar-grid"},v.createElement(Tn,Z({cx:r,cy:o,innerRadius:c,outerRadius:m,gridType:d,radialLines:y},h)),v.createElement(In,Z({cx:r,cy:o,innerRadius:c,outerRadius:m,gridType:d,radialLines:y},h)))};nr.displayName="PolarGrid";var Bn=qt,Fn=Jr,zn=Gt;function Kn(t,e){return t&&t.length?Bn(t,zn(e),Fn):void 0}var Vn=Kn;const Wn=ht(Vn);var Un=qt,qn=Gt,Gn=Qr;function Hn(t,e){return t&&t.length?Un(t,qn(e),Gn):void 0}var Zn=Hn;const Yn=ht(Zn);var Xn=["cx","cy","angle","ticks","axisLine"],Jn=["ticks","tick","angle","tickFormatter","stroke"];function le(t){"@babel/helpers - typeof";return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(t)}function be(){return be=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},be.apply(this,arguments)}function Mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mt(Object(n),!0).forEach(function(r){We(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tt(t,e){if(t==null)return{};var n=Qn(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qn(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ea(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ir(r.key),r)}}function ta(t,e,n){return e&&Ct(t.prototype,e),n&&Ct(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ra(t,e,n){return e=Be(e),na(t,ar()?Reflect.construct(e,n||[],Be(t).constructor):e.apply(t,n))}function na(t,e){if(e&&(le(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aa(t)}function aa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ar(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ar=function(){return!!t})()}function Be(t){return Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Be(t)}function ia(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}function ut(t,e){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ut(t,e)}function We(t,e,n){return e=ir(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ir(t){var e=sa(t,"string");return le(e)=="symbol"?e:e+""}function sa(t,e){if(le(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(le(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ke=function(t){function e(){return ea(this,e),ra(this,e,arguments)}return ia(e,t),ta(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,o=this.props,s=o.angle,c=o.cx,u=o.cy;return F(c,u,a,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,o=r.cy,s=r.angle,c=r.ticks,u=Wn(c,function(f){return f.coordinate||0}),m=Yn(c,function(f){return f.coordinate||0});return{cx:a,cy:o,startAngle:s,endAngle:s,innerRadius:m.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,o=r.cy,s=r.angle,c=r.ticks,u=r.axisLine,m=Tt(r,Xn),f=c.reduce(function(h,g){return[Math.min(h[0],g.coordinate),Math.max(h[1],g.coordinate)]},[1/0,-1/0]),d=F(a,o,f[0],s),p=F(a,o,f[1],s),y=ne(ne(ne({},k(m,!1)),{},{fill:"none"},k(u,!1)),{},{x1:d.x,y1:d.y,x2:p.x,y2:p.y});return v.createElement("line",be({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,a=this.props,o=a.ticks,s=a.tick,c=a.angle,u=a.tickFormatter,m=a.stroke,f=Tt(a,Jn),d=this.getTickTextAnchor(),p=k(f,!1),y=k(s,!1),h=o.map(function(g,b){var w=r.getTickValueCoord(g),P=ne(ne(ne(ne({textAnchor:d,transform:"rotate(".concat(90-c,", ").concat(w.x,", ").concat(w.y,")")},p),{},{stroke:"none",fill:m},y),{},{index:b},w),{},{payload:g});return v.createElement(C,be({className:z("recharts-polar-radius-axis-tick",Zt(s)),key:"tick-".concat(g.coordinate)},Yt(r.props,g,b)),e.renderTickItem(s,P,u?u(g.value,b):g.value))});return v.createElement(C,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,a=r.ticks,o=r.axisLine,s=r.tick;return!a||!a.length?null:v.createElement(C,{className:z("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),en.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,o){var s;return v.isValidElement(r)?s=v.cloneElement(r,a):se(r)?s=r(a):s=v.createElement(Ht,be({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(x.PureComponent);We(ke,"displayName","PolarRadiusAxis");We(ke,"axisType","radiusAxis");We(ke,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ue(t){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(t)}function ie(){return ie=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ie.apply(this,arguments)}function Rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rt(Object(n),!0).forEach(function(r){Ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,or(r.key),r)}}function ca(t,e,n){return e&&It(t.prototype,e),n&&It(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function la(t,e,n){return e=Fe(e),ua(t,sr()?Reflect.construct(e,n||[],Fe(t).constructor):e.apply(t,n))}function ua(t,e){if(e&&(ue(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return da(t)}function da(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sr=function(){return!!t})()}function Fe(t){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fe(t)}function fa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}function dt(t,e){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},dt(t,e)}function Ue(t,e,n){return e=or(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function or(t){var e=pa(t,"string");return ue(e)=="symbol"?e:e+""}function pa(t,e){if(ue(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ue(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ma=Math.PI/180,Bt=1e-5,Ae=function(t){function e(){return oa(this,e),la(this,e,arguments)}return fa(e,t),ca(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,o=a.cx,s=a.cy,c=a.radius,u=a.orientation,m=a.tickSize,f=m||8,d=F(o,s,c,r.coordinate),p=F(o,s,c+(u==="inner"?-1:1)*f,r.coordinate);return{x1:d.x,y1:d.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,o=Math.cos(-r.coordinate*ma),s;return o>Bt?s=a==="outer"?"start":"end":o<-Bt?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,o=r.cy,s=r.radius,c=r.axisLine,u=r.axisLineType,m=ae(ae({},k(this.props,!1)),{},{fill:"none"},k(c,!1));if(u==="circle")return v.createElement(yt,ie({className:"recharts-polar-angle-axis-line"},m,{cx:a,cy:o,r:s}));var f=this.props.ticks,d=f.map(function(p){return F(a,o,s,p.coordinate)});return v.createElement(rr,ie({className:"recharts-polar-angle-axis-line"},m,{points:d}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,o=a.ticks,s=a.tick,c=a.tickLine,u=a.tickFormatter,m=a.stroke,f=k(this.props,!1),d=k(s,!1),p=ae(ae({},f),{},{fill:"none"},k(c,!1)),y=o.map(function(h,g){var b=r.getTickLineCoord(h),w=r.getTickTextAnchor(h),P=ae(ae(ae({textAnchor:w},f),{},{stroke:"none",fill:m},d),{},{index:g,payload:h,x:b.x2,y:b.y2});return v.createElement(C,ie({className:z("recharts-polar-angle-axis-tick",Zt(s)),key:"tick-".concat(h.coordinate)},Yt(r.props,h,g)),c&&v.createElement("line",ie({className:"recharts-polar-angle-axis-tick-line"},p,b)),s&&e.renderTickItem(s,P,u?u(h.value,g):h.value))});return v.createElement(C,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,a=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!a||!a.length?null:v.createElement(C,{className:z("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,o){var s;return v.isValidElement(r)?s=v.cloneElement(r,a):se(r)?s=r(a):s=v.createElement(Ht,ie({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(x.PureComponent);Ue(Ae,"displayName","PolarAngleAxis");Ue(Ae,"axisType","angleAxis");Ue(Ae,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});function ha(t){return t&&t.length?t[0]:void 0}var ya=ha,ga=ya;const va=ht(ga);var xa=["key"];function de(t){"@babel/helpers - typeof";return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(t)}function ba(t,e){if(t==null)return{};var n=ja(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ja(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ze(){return ze=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ze.apply(this,arguments)}function Ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ft(Object(n),!0).forEach(function(r){H(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lr(r.key),r)}}function wa(t,e,n){return e&&zt(t.prototype,e),n&&zt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oa(t,e,n){return e=Ke(e),ka(t,cr()?Reflect.construct(e,n||[],Ke(t).constructor):e.apply(t,n))}function ka(t,e){if(e&&(de(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aa(t)}function Aa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cr=function(){return!!t})()}function Ke(t){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ke(t)}function Na(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ft(t,e)}function ft(t,e){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ft(t,e)}function H(t,e,n){return e=lr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lr(t){var e=Sa(t,"string");return de(e)=="symbol"?e:e+""}function Sa(t,e){if(de(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(de(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ne=function(t){function e(){var n;Pa(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=Oa(this,e,[].concat(a)),H(n,"state",{isAnimationFinished:!1}),H(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),se(s)&&s()}),H(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),se(s)&&s()}),H(n,"handleMouseEnter",function(s){var c=n.props.onMouseEnter;c&&c(n.props,s)}),H(n,"handleMouseLeave",function(s){var c=n.props.onMouseLeave;c&&c(n.props,s)}),n}return Na(e,t),wa(e,[{key:"renderDots",value:function(r){var a=this.props,o=a.dot,s=a.dataKey,c=k(this.props,!1),u=k(o,!0),m=r.map(function(f,d){var p=_(_(_({key:"dot-".concat(d),r:3},c),u),{},{dataKey:s,cx:f.x,cy:f.y,index:d,payload:f});return e.renderDotItem(o,p)});return v.createElement(C,{className:"recharts-radar-dots"},m)}},{key:"renderPolygonStatically",value:function(r){var a=this.props,o=a.shape,s=a.dot,c=a.isRange,u=a.baseLinePoints,m=a.connectNulls,f;return v.isValidElement(o)?f=v.cloneElement(o,_(_({},this.props),{},{points:r})):se(o)?f=o(_(_({},this.props),{},{points:r})):f=v.createElement(rr,ze({},k(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:c?u:null,connectNulls:m})),v.createElement(C,{className:"recharts-radar-polygon"},f,s?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,a=this.props,o=a.points,s=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,m=a.animationEasing,f=a.animationId,d=this.state.prevPoints;return v.createElement(Xt,{begin:c,duration:u,isActive:s,easing:m,from:{t:0},to:{t:1},key:"radar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,h=d&&d.length/o.length,g=o.map(function(b,w){var P=d&&d[Math.floor(w*h)];if(P){var O=G(P.x,b.x),S=G(P.y,b.y);return _(_({},b),{},{x:O(y),y:S(y)})}var N=G(b.cx,b.x),R=G(b.cy,b.y);return _(_({},b),{},{x:N(y),y:R(y)})});return r.renderPolygonStatically(g)})}},{key:"renderPolygon",value:function(){var r=this.props,a=r.points,o=r.isAnimationActive,s=r.isRange,c=this.state.prevPoints;return o&&a&&a.length&&!s&&(!c||!Jt(c,a))?this.renderPolygonWithAnimation():this.renderPolygonStatically(a)}},{key:"render",value:function(){var r=this.props,a=r.hide,o=r.className,s=r.points,c=r.isAnimationActive;if(a||!s||!s.length)return null;var u=this.state.isAnimationFinished,m=z("recharts-radar",o);return v.createElement(C,{className:m},this.renderPolygon(),(!c||u)&&Qt.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,a){var o;if(v.isValidElement(r))o=v.cloneElement(r,a);else if(se(r))o=r(a);else{var s=a.key,c=ba(a,xa);o=v.createElement(yt,ze({},c,{key:s,className:z("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return o}}])}(x.PureComponent);H(Ne,"displayName","Radar");H(Ne,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!er.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});H(Ne,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,a=t.dataKey,o=t.bandSize,s=n.cx,c=n.cy,u=!1,m=[],f=n.type!=="number"?o??0:0;r.forEach(function(p,y){var h=Ie(p,n.dataKey,y),g=Ie(p,a),b=n.scale(h)+f,w=Array.isArray(g)?tn(g):g,P=Pe(w)?void 0:e.scale(w);Array.isArray(g)&&g.length>=2&&(u=!0),m.push(_(_({},F(s,c,P,b)),{},{name:h,value:g,cx:s,cy:c,radius:P,angle:b,payload:p}))});var d=[];return u&&m.forEach(function(p){if(Array.isArray(p.value)){var y=va(p.value),h=Pe(y)?void 0:e.scale(y);d.push(_(_({},p),{},{radius:h},F(s,c,h,p.angle)))}else d.push(p)}),{points:m,isRange:u,baseLinePoints:d}});var _a=["type","layout","connectNulls","ref"],La=["key"];function fe(t){"@babel/helpers - typeof";return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(t)}function Kt(t,e){if(t==null)return{};var n=Ea(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ea(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function je(){return je=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},je.apply(this,arguments)}function Vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vt(Object(n),!0).forEach(function(r){B(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oe(t){return Ta(t)||Ma(t)||Da(t)||$a()}function $a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Da(t,e){if(t){if(typeof t=="string")return pt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pt(t,e)}}function Ma(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ta(t){if(Array.isArray(t))return pt(t)}function pt(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ca(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dr(r.key),r)}}function Ra(t,e,n){return e&&Wt(t.prototype,e),n&&Wt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ia(t,e,n){return e=Ve(e),Ba(t,ur()?Reflect.construct(e,n||[],Ve(t).constructor):e.apply(t,n))}function Ba(t,e){if(e&&(fe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fa(t)}function Fa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ur(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ur=function(){return!!t})()}function Ve(t){return Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ve(t)}function za(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mt(t,e)}function mt(t,e){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},mt(t,e)}function B(t,e,n){return e=dr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dr(t){var e=Ka(t,"string");return fe(e)=="symbol"?e:e+""}function Ka(t,e){if(fe(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fe(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Se=function(t){function e(){var n;Ca(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=Ia(this,e,[].concat(a)),B(n,"state",{isAnimationFinished:!0,totalLength:0}),B(n,"generateSimpleStrokeDasharray",function(s,c){return"".concat(c,"px ").concat(s-c,"px")}),B(n,"getStrokeDasharray",function(s,c,u){var m=u.reduce(function(w,P){return w+P});if(!m)return n.generateSimpleStrokeDasharray(c,s);for(var f=Math.floor(s/m),d=s%m,p=c-s,y=[],h=0,g=0;h<u.length;g+=u[h],++h)if(g+u[h]>d){y=[].concat(oe(u.slice(0,h)),[d-g]);break}var b=y.length%2===0?[0,p]:[p];return[].concat(oe(e.repeat(u,f)),oe(y),b).map(function(w){return"".concat(w,"px")}).join(", ")}),B(n,"id",sn("recharts-line-")),B(n,"pathRef",function(s){n.mainCurve=s}),B(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),B(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return za(e,t),Ra(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,c=o.xAxis,u=o.yAxis,m=o.layout,f=o.children,d=rn(f,on);if(!d)return null;var p=function(g,b){return{x:g.x,y:g.y,value:g.value,errorVal:Ie(g.payload,b)}},y={clipPath:r?"url(#clipPath-".concat(a,")"):null};return v.createElement(C,y,d.map(function(h){return v.cloneElement(h,{key:"bar-".concat(h.props.dataKey),data:s,xAxis:c,yAxis:u,layout:m,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,a,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var c=this.props,u=c.dot,m=c.points,f=c.dataKey,d=k(this.props,!1),p=k(u,!0),y=m.map(function(g,b){var w=$($($({key:"dot-".concat(b),r:3},d),p),{},{index:b,cx:g.x,cy:g.y,value:g.value,dataKey:f,payload:g.payload,points:m});return e.renderDotItem(u,w)}),h={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return v.createElement(C,je({className:"recharts-line-dots",key:"dots"},h),y)}},{key:"renderCurveStatically",value:function(r,a,o,s){var c=this.props,u=c.type,m=c.layout,f=c.connectNulls;c.ref;var d=Kt(c,_a),p=$($($({},k(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:u,layout:m,connectNulls:f});return v.createElement(nn,je({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var o=this,s=this.props,c=s.points,u=s.strokeDasharray,m=s.isAnimationActive,f=s.animationBegin,d=s.animationDuration,p=s.animationEasing,y=s.animationId,h=s.animateNewValues,g=s.width,b=s.height,w=this.state,P=w.prevPoints,O=w.totalLength;return v.createElement(Xt,{begin:f,duration:d,isActive:m,easing:p,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var N=S.t;if(P){var R=P.length/c.length,M=c.map(function(A,me){var Q=Math.floor(me*R);if(P[Q]){var Y=P[Q],W=G(Y.x,A.x),ee=G(Y.y,A.y);return $($({},A),{},{x:W(N),y:ee(N)})}if(h){var qe=G(g*2,A.x),he=G(b/2,A.y);return $($({},A),{},{x:qe(N),y:he(N)})}return $($({},A),{},{x:A.x,y:A.y})});return o.renderCurveStatically(M,r,a)}var V=G(0,O),K=V(N),I;if(u){var L="".concat(u).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});I=o.getStrokeDasharray(K,O,L)}else I=o.generateSimpleStrokeDasharray(O,K);return o.renderCurveStatically(c,r,a,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,a){var o=this.props,s=o.points,c=o.isAnimationActive,u=this.state,m=u.prevPoints,f=u.totalLength;return c&&s&&s.length&&(!m&&f>0||!Jt(m,s))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(s,r,a)}},{key:"render",value:function(){var r,a=this.props,o=a.hide,s=a.dot,c=a.points,u=a.className,m=a.xAxis,f=a.yAxis,d=a.top,p=a.left,y=a.width,h=a.height,g=a.isAnimationActive,b=a.id;if(o||!c||!c.length)return null;var w=this.state.isAnimationFinished,P=c.length===1,O=z("recharts-line",u),S=m&&m.allowDataOverflow,N=f&&f.allowDataOverflow,R=S||N,M=Pe(b)?this.id:b,V=(r=k(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},K=V.r,I=K===void 0?3:K,L=V.strokeWidth,A=L===void 0?2:L,me=an(s)?s:{},Q=me.clipDot,Y=Q===void 0?!0:Q,W=I*2+A;return v.createElement(C,{className:O},S||N?v.createElement("defs",null,v.createElement("clipPath",{id:"clipPath-".concat(M)},v.createElement("rect",{x:S?p:p-y/2,y:N?d:d-h/2,width:S?y:y*2,height:N?h:h*2})),!Y&&v.createElement("clipPath",{id:"clipPath-dots-".concat(M)},v.createElement("rect",{x:p-W/2,y:d-W/2,width:y+W,height:h+W}))):null,!P&&this.renderCurve(R,M),this.renderErrorBar(R,M),(P||s)&&this.renderDots(R,Y,M),(!g||w)&&Qt.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var o=r.length%2!==0?[].concat(oe(r),[0]):r,s=[],c=0;c<a;++c)s=[].concat(oe(s),oe(o));return s}},{key:"renderDotItem",value:function(r,a){var o;if(v.isValidElement(r))o=v.cloneElement(r,a);else if(se(r))o=r(a);else{var s=a.key,c=Kt(a,La),u=z("recharts-line-dot",typeof r!="boolean"?r.className:"");o=v.createElement(yt,je({key:s},c,{className:u}))}return o}}])}(x.PureComponent);B(Se,"displayName","Line");B(Se,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!er.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});B(Se,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,c=t.bandSize,u=t.displayedData,m=t.offset,f=e.layout,d=u.map(function(p,y){var h=Ie(p,s);return f==="horizontal"?{x:_t({axis:n,ticks:a,bandSize:c,entry:p,index:y}),y:Pe(h)?null:r.scale(h),value:h,payload:p}:{x:Pe(h)?null:n.scale(h),y:_t({axis:r,ticks:o,bandSize:c,entry:p,index:y}),value:h,payload:p}});return $({points:d,layout:f},m)});var Va=tr({chartName:"LineChart",GraphicalChild:Se,axisComponents:[{axisType:"xAxis",AxisComp:ot},{axisType:"yAxis",AxisComp:ct}],formatAxisMap:cn}),Wa=tr({chartName:"RadarChart",GraphicalChild:Ne,axisComponents:[{axisType:"angleAxis",AxisComp:Ae},{axisType:"radiusAxis",AxisComp:ke}],formatAxisMap:ln,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Ua(t){const{user:e}=Er(),n=$r({queryKey:["health_notes",t],queryFn:async()=>{if(!e||!t)return[];const{data:r,error:a}=await Ut.from("health_notes").select("*").eq("pet_id",t).order("created_at",{ascending:!1});if(a)throw a;return(r||[]).map(o=>({id:o.id,petId:o.pet_id,summary:o.summary,recommendations:o.recommendations||void 0,riskLevel:o.risk_level,ownerMessage:o.owner_message||void 0,createdAt:o.created_at}))},enabled:!!e&&!!t});return{notes:n.data??[],isLoading:n.isLoading,error:n.error,refresh:n.refetch}}function qa(){const[t,e]=x.useState(!1),[n,r]=x.useState(!1),[a,o]=x.useState(!1),s=x.useCallback(()=>"http://localhost:8787".replace(/\/$/,""),[]),c=x.useCallback(async()=>{var y;const{data:d}=await Ut.auth.getSession(),p=(y=d.session)==null?void 0:y.access_token;return p?{"Content-Type":"application/json",Authorization:`Bearer ${p}`}:(D({title:"Please sign in again",description:"We could not find a valid session to call the insights service.",variant:"destructive"}),null)},[]),u=x.useCallback(async d=>{const p=s();if(!p)return null;try{e(!0);const y=await c();if(!y)return null;const h=await fetch(`${p}/analyze`,{method:"POST",headers:y,body:JSON.stringify({petId:d})});if(!h.ok)throw new Error(await h.text());const g=await h.json();return D({title:"Health insight updated",description:g.summary||"New note saved."}),g}catch(y){return D({title:"Analysis failed",description:y.message||"Unable to reach MCP server.",variant:"destructive"}),null}finally{e(!1)}},[c,s]),m=x.useCallback(async d=>{const p=s();if(!p)return null;try{r(!0);const y=await c();if(!y)return null;const h=await fetch(`${p}/breed-breakdown`,{method:"POST",headers:y,body:JSON.stringify({petId:d})});if(!h.ok)throw new Error(await h.text());return await h.json()}catch(y){return D({title:"Breed insight failed",description:y.message||"Unable to reach MCP server.",variant:"destructive"}),null}finally{r(!1)}},[c,s]),f=x.useCallback(async(d,p)=>{const y=s();if(!y)return null;try{o(!0);const h=await c();if(!h)return null;const g=await fetch(`${y}/chat`,{method:"POST",headers:h,body:JSON.stringify({petId:d,messages:p})});if(!g.ok)throw new Error(await g.text());return await g.json()}catch(h){return D({title:"Chat failed",description:h.message||"Unable to reach MCP server.",variant:"destructive"}),null}finally{o(!1)}},[s,c]);return{triggerAnalysis:u,fetchBreedBreakdown:m,sendChatMessage:f,isAnalyzing:t,isFetchingBreed:n,isChatting:a}}function Ga(t,e){const r=(e.latitude-t.latitude)*Math.PI/180,a=(e.longitude-t.longitude)*Math.PI/180,o=t.latitude*Math.PI/180,s=e.latitude*Math.PI/180,c=Math.sin(r/2),u=Math.sin(a/2),m=c*c+Math.cos(o)*Math.cos(s)*u*u;return 6371*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))}function Ha(){const[t,e]=x.useState(null),[n,r]=x.useState([]),[a,o]=x.useState(!1),[s,c]=x.useState(null),u=x.useCallback(async(f,d)=>{try{o(!0);const y=`[out:json][timeout:25];
        node(around:8000,${f},${d})["amenity"="veterinary"];
        out body 12;`,h=`https://overpass-api.de/api/interpreter?data=${encodeURIComponent(y)}`,g=await fetch(h);if(!g.ok)throw new Error("Unable to reach vet directory");const b=await g.json(),P=((b==null?void 0:b.elements)??[]).map(O=>{var K,I,L,A;const S=Ga({latitude:f,longitude:d},{latitude:O.lat,longitude:O.lon}),N=((K=O.tags)==null?void 0:K.name)||"Local vet",R=((I=O.tags)==null?void 0:I["addr:street"])||"",M=((L=O.tags)==null?void 0:L["addr:city"])||((A=O.tags)==null?void 0:A["addr:town"])||"",V=[R,M].filter(Boolean).join(", ")||"Address unavailable";return{id:String(O.id),name:N,address:V,distanceKm:Number(S.toFixed(1)),latitude:O.lat,longitude:O.lon,mapUrl:`https://www.google.com/maps/search/?api=1&query=${O.lat},${O.lon}`}});P.sort((O,S)=>O.distanceKm-S.distanceKm),r(P.slice(0,5)),c(P.length?null:"No vets found nearby yet.")}catch(p){console.error(p),c(p.message||"Unable to lookup vets right now.")}finally{o(!1)}},[]),m=x.useCallback(()=>{if(typeof window>"u"||!navigator.geolocation){c("Location is not supported on this device."),D({title:"Location unavailable",description:"Your browser does not support geolocation.",variant:"destructive"});return}o(!0),c(null),navigator.geolocation.getCurrentPosition(f=>{const{latitude:d,longitude:p}=f.coords;e({latitude:d,longitude:p}),u(d,p)},f=>{o(!1);const d=f.code===f.PERMISSION_DENIED?"Location permission was denied.":"Unable to read your location.";c(d),D({title:"Need location access",description:d,variant:"destructive"})},{enableHighAccuracy:!0,maximumAge:0,timeout:1e4})},[u]);return{coords:t,vets:n,isLocating:a,locationError:s,requestLocation:m,hasRequested:t!==null||n.length>0||!!s}}const ve=t=>Math.max(10,Math.min(100,Math.round(t||0)));function Za(){const t=()=>typeof document<"u"&&document.documentElement.classList.contains("dark"),[e,n]=x.useState(t());return x.useEffect(()=>{if(typeof document>"u")return;const r=new MutationObserver(()=>n(t()));return r.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>r.disconnect()},[]),e}function yi(){const t=Dr(),{pets:e,petsLoading:n,selectedPet:r,selectedPetId:a,setSelectedPetId:o,selectedDate:s,setSelectedDate:c}=Mr(),{logs:u}=Br(a),{logs:m}=Fr(a),{logs:f}=zr(a),{logs:d}=Kr(a),{notes:p,refresh:y}=Ua(a),{triggerAnalysis:h,fetchBreedBreakdown:g,sendChatMessage:b,isAnalyzing:w,isFetchingBreed:P,isChatting:O}=qa(),{metrics:S}=qr(),{vets:N,coords:R,locationError:M,isLocating:V,requestLocation:K,hasRequested:I}=Ha(),{activeThread:L,messages:A,startThread:me,sendMessage:Q,isStarting:Y,isSending:W}=Gr(a),[ee,qe]=x.useState("daily"),[he,Ge]=x.useState("ai"),[_e,gt]=x.useState(""),[vt,Le]=x.useState([]),[Ee,xt]=x.useState(""),[He,bt]=x.useState(""),$e=x.useRef({}),[,jt]=x.useState(0),te=Za(),T=x.useMemo(()=>({text:te?"rgba(248,249,251,0.85)":"rgba(34,34,34,0.8)",grid:te?"rgba(248,249,251,0.15)":"rgba(0,0,0,0.08)",line:te?"#F4D7C4":"hsl(22, 24%, 21%)",accent:te?"#7DD3FC":"#0F172A",areaTop:te?"rgba(244,215,196,0.45)":"rgba(244,215,196,0.4)",areaBottom:te?"rgba(244,215,196,0.05)":"rgba(244,215,196,0)"}),[te]),U=p[0],X=x.useMemo(()=>{const l=s;return{start:Rr(l,29),end:l}},[s]),Ze=x.useMemo(()=>u.filter(l=>tt(new Date(l.timestamp),s)),[u,s]),De=x.useMemo(()=>m.filter(l=>tt(new Date(l.timestamp),s)),[m,s]),Me=x.useMemo(()=>f.filter(l=>tt(new Date(l.timestamp),s)),[f,s]),fr=x.useMemo(()=>u.filter(l=>st(new Date(l.timestamp),X)),[u,X]),pr=x.useMemo(()=>m.filter(l=>st(new Date(l.timestamp),X)),[m,X]),mr=x.useMemo(()=>f.filter(l=>st(new Date(l.timestamp),X)),[f,X]),ye=ee==="daily"?Ze:fr,J=ee==="daily"?De:pr,hr=ee==="daily"?Me:mr,Ye=ee==="daily"?1:Math.max(1,Vr(X.end,X.start)+1),Pt=Ze.reduce((l,j)=>l+j.amountGrams,0),Te=d.length>0?d[0].weightKg:null,wt=d.length>1?d[1].weightKg:null,Xe=Te&&wt?Number((Te-wt).toFixed(1)):null,Ce=x.useMemo(()=>d.filter(l=>l.weightKg).slice(0,10).reverse().map(l=>({date:it(new Date(l.timestamp),"MMM d"),weight:l.weightKg})),[d]),Ot=x.useMemo(()=>d.filter(l=>l.weightKg||l.chestCm||l.bodyLengthCm).slice(0,8).reverse().map(l=>({date:it(new Date(l.timestamp),"MMM d"),weight:l.weightKg??null,girth:l.chestCm??null})),[d]),kt=x.useMemo(()=>{if(!ye.length)return null;const l=ye.reduce((j,E)=>({protein:j.protein+(E.proteinPercent??0),fat:j.fat+(E.fatPercent??0),carb:j.carb+(E.carbPercent??0),count:j.count+(E.proteinPercent||E.fatPercent||E.carbPercent?1:0)}),{protein:0,fat:0,carb:0,count:0});return l.count===0?null:{protein:Math.round(l.protein/l.count),fat:Math.round(l.fat/l.count),carb:Math.round(l.carb/l.count)}},[ye]),yr=ve(ye.length/Ye/3*100),gr=(J||[]).reduce((l,j)=>j?j.color==="black"||j.color==="red"?l+30:j.consistency==="diarrhea"||j.consistency==="soft"?l+20:j.consistency==="hard"?l+10:l:l,0),vr=ve(J.length===0?55:95-gr),xr=ve(hr.length/Ye*120),br=ve(U?U.riskLevel==="see_vet"?35:U.riskLevel==="watch"?65:95:60),jr=d.length<2||!d[0].weightKg||!d[1].weightKg?70:100-Math.abs(d[0].weightKg-d[1].weightKg)*25,Pr=ve(jr),wr=[{metric:"Nutrition",score:yr},{metric:"Digestion",score:vr},{metric:"Supplements",score:xr},{metric:"Mood",score:br},{metric:"Growth",score:Pr}],re=a?$e.current[a]??null:null,Or=J[0]?`${J[0].color.replace("_"," ")} â€¢ ${J[0].consistency}`:"No stool data logged yet";x.useEffect(()=>{if(!a||!(r!=null&&r.name)){Le([{role:"assistant",content:"Select a pet to start an AI conversation about their care."}]);return}Le([{role:"assistant",content:`Hi! I'm watching ${r.name}'s meals, poop colours, and supplements. Ask anything or request a plan.`}])},[a,r==null?void 0:r.name]),x.useEffect(()=>{if(!a||$e.current[a])return;let l=!1;return(async()=>{const j=await g(a);!l&&j&&($e.current[a]=j,jt(E=>E+1))})(),()=>{l=!0}},[a,g]);const kr=async()=>{if(!a){D({title:"Select a pet first",description:"Pick a pet to analyze their latest activity."});return}await h(a)&&y()},Ar=async()=>{if(!a)return;const l=await g(a);l&&($e.current[a]=l,jt(j=>j+1))},Nr=async()=>{if(!a||!_e.trim())return;const l={role:"user",content:_e.trim()},j=[...vt,l];Le(j),gt("");const E=await b(a,j);E!=null&&E.reply&&Le(Lr=>[...Lr,{role:"assistant",content:E.reply}])},Sr=async()=>{if(!a){D({title:"Select a pet first",description:"Real vets need to know which pet to review.",variant:"destructive"});return}if(!He.trim()){D({title:"Describe the issue",description:"Share a quick summary so the vet can jump in."});return}try{await me({petId:a,topic:`${(r==null?void 0:r.name)??"Pet"} consult`,initialMessage:He.trim(),creditCost:25}),bt(""),Ge("vet"),D({title:"Vet chat opened",description:"25 credits deducted. Expect a vet shortly."})}catch(l){D({title:"Unable to start chat",description:l.message||"Check your credit balance.",variant:"destructive"})}},_r=async()=>{if(Ee.trim())try{await Q({message:Ee.trim()}),xt("")}catch(l){D({title:"Message failed",description:l.message,variant:"destructive"})}};return n?i.jsxs(Je,{children:[i.jsx(Qe,{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loadingâ€¦"})}),i.jsx(et,{})]}):!r||e.length===0?i.jsxs(Je,{children:[i.jsx(Qe,{className:"flex items-center justify-center min-h-screen",children:i.jsx(Ur,{icon:St,title:"No pet yet",description:"Add your first pet to unlock analytics",action:i.jsx(q,{onClick:()=>t("/onboarding"),children:"Add Pet"})})}),i.jsx(et,{})]}):i.jsxs(Je,{children:[i.jsx("header",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-lg px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"AI analytics"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h1",{className:"text-xl font-display font-semibold",children:r.name}),r.dateOfBirth&&i.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Wr(r.dateOfBirth),")"]})]}),r.breed&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.breed," â€¢ ",r.species]})]}),i.jsx(Tr,{photoUrl:r.photoUrl,name:r.name,size:"md"})]})}),i.jsxs(Qe,{className:"space-y-6 pb-24",children:[i.jsx(Cr,{pets:e,selectedPetId:a,onSelectPet:o}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ir,{selectedDate:s,onDateChange:c}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Timeframe"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Switch between today and rolling 30 days"})]}),i.jsx("div",{className:"inline-flex rounded-full bg-card-muted/70 p-1",children:["daily","monthly"].map(l=>i.jsx("button",{onClick:()=>qe(l),className:ge("px-3 py-1 text-xs font-medium rounded-full transition-all",ee===l?"bg-foreground text-background shadow-sm":"text-muted-foreground"),children:l==="daily"?"Daily":"30 day"},l))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx(Re,{icon:St,title:"Food",value:Pt>0?`${Math.round(Pt)}g`:"â€”",subtitle:`${Ze.length||"No"} meals logged today`}),i.jsx(Re,{icon:Hr,title:"Poop",value:De.length>0?De.length.toString():"â€”",subtitle:De.length>0?Or:"No entries yet"}),i.jsx(Re,{icon:Zr,title:"Supplements",value:Me.length>0?Me.length.toString():"â€”",subtitle:Me.length>0?"Given today":"None given"}),i.jsx(Re,{icon:Yr,title:"Weight",value:Te?`${Te}kg`:"â€”",subtitle:Xe!==null?`${Xe>=0?"+":""}${Xe}kg vs last`:"Latest reading"})]}),i.jsxs("div",{className:"card-nude space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs uppercase text-muted-foreground flex items-center gap-1",children:[i.jsx(Xr,{className:"w-3 h-3"})," MCP Health Insight"]}),i.jsx("h3",{className:"font-display font-medium",children:"Automatic triage"})]}),i.jsxs(q,{variant:"secondary",size:"sm",onClick:kr,disabled:w,className:"gap-2",children:[i.jsx(Lt,{className:"w-3 h-3"}),w?"Analyzing...":"Refresh"]})]}),U?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(At,{className:"text-xs font-medium",children:U.riskLevel??"normal"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updated ",Nt(new Date(U.createdAt),{addSuffix:!0})]})]}),i.jsx("p",{className:"font-medium leading-snug",children:U.summary}),U.recommendations&&i.jsx("p",{className:"text-sm text-muted-foreground",children:U.recommendations})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No AI notes yet. Log activity and tap refresh."})]}),kt&&i.jsxs("div",{className:"card-nude p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase text-muted-foreground",children:[i.jsx(mn,{className:"w-3 h-3"}),"Auto macro mix"]}),i.jsx("div",{className:"grid grid-cols-3 gap-3 mt-4",children:Object.entries(kt).map(([l,j])=>i.jsxs("div",{className:"rounded-xl bg-background/80 p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:l}),i.jsxs("p",{className:"text-lg font-display font-semibold",children:[j,"%"]}),i.jsx("p",{className:"text-[11px] text-muted-foreground",children:"avg per meal"})]},l))})]}),i.jsxs("div",{className:"card-nude space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs uppercase text-muted-foreground flex items-center gap-1",children:[i.jsx(vn,{className:"w-3 h-3"})," Wellness radar"]}),i.jsx("h3",{className:"font-display font-medium",children:"AI health pulses"})]})}),i.jsx("div",{className:"h-48",children:i.jsx(at,{width:"100%",height:"100%",children:i.jsxs(Wa,{data:wr,children:[i.jsx(nr,{stroke:T.grid}),i.jsx(Ae,{dataKey:"metric",stroke:T.text}),i.jsx(ke,{angle:45,domain:[0,100],tick:!1}),i.jsx(Ne,{dataKey:"score",stroke:T.line,fill:T.areaTop,fillOpacity:.5})]})})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-muted-foreground",children:[i.jsxs("p",{children:["Daily meals average ",(ye.length/Ye).toFixed(1),". Keep it consistent to stay above 80% nutrition score."]}),i.jsx("p",{children:J.length>0?`Latest stool is ${J[0].consistency}. ${J[0].bloodPresent?"Blood detected â€” monitor closely.":"Looks steady."}`:"Log stool entries so AI can watch digestion trends."})]})]}),i.jsxs("div",{className:"card-nude space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"font-display font-medium flex items-center gap-2",children:[i.jsx(un,{className:"w-4 h-4"}),"Growth charts"]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:Ce.length>0?`${Ce.length} data points`:"No data yet"})]}),Ce.length>0?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"h-32",children:i.jsx(at,{width:"100%",height:"100%",children:i.jsxs(dn,{data:Ce,children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"weightGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:T.areaTop}),i.jsx("stop",{offset:"100%",stopColor:T.areaBottom})]})}),i.jsx(ot,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:T.text}}),i.jsx(ct,{domain:["dataMin - 0.2","dataMax + 0.2"],axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:T.text},width:30}),i.jsx(fn,{type:"monotone",dataKey:"weight",stroke:T.line,strokeWidth:2,fill:"url(#weightGradient)"})]})})}),Ot.length>0&&i.jsx("div",{className:"h-32",children:i.jsx(at,{width:"100%",height:"100%",children:i.jsxs(Va,{data:Ot,children:[i.jsx(ot,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:T.text}}),i.jsx(ct,{axisLine:!1,tickLine:!1,width:30,tick:{fontSize:10,fill:T.text}}),i.jsx(Se,{type:"monotone",dataKey:"weight",stroke:T.accent,strokeWidth:2,dot:!1})]})})})]}):i.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No measurement data yet"})]}),i.jsxs("div",{className:"card-nude space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs uppercase text-muted-foreground flex items-center gap-1",children:[i.jsx(yn,{className:"w-3 h-3"})," Breed DNA lab"]}),i.jsx("h3",{className:"font-display font-medium",children:"Photo + metadata analysis"})]}),i.jsxs(q,{size:"sm",variant:"ghost",onClick:Ar,disabled:P,className:"gap-2",children:[i.jsx(Lt,{className:"w-3 h-3"}),P?"Refreshingâ€¦":"Re-run"]})]}),re?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"space-y-2",children:re.breakdown.map(l=>i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-medium",children:l.label}),i.jsxs("span",{children:[l.percentage,"%"]})]}),i.jsx("div",{className:"h-2 rounded-full bg-card-muted overflow-hidden",children:i.jsx("div",{className:"h-full bg-primary",style:{width:`${l.percentage}%`}})}),l.traits&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l.traits})]},l.label))}),re.originStory&&i.jsx("div",{className:"rounded-xl bg-background/70 p-3 text-sm",children:re.originStory}),re.watchouts&&re.watchouts.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase text-muted-foreground mb-2",children:"Watch outs"}),i.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:re.watchouts.map((l,j)=>i.jsx("li",{children:l},j))})]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a photo during onboarding so AI can estimate their mix."})]}),i.jsxs("div",{className:"card-nude space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-display font-medium flex items-center gap-2",children:[i.jsx(hn,{className:"w-4 h-4"}),"Care exchange"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Balance: ",(S==null?void 0:S.credits)??0," credits"]})]}),i.jsxs("div",{className:"inline-flex rounded-full bg-card-muted/60 p-1",children:[i.jsx("button",{onClick:()=>Ge("ai"),className:ge("px-3 py-1 text-xs font-medium rounded-full",he==="ai"?"bg-foreground text-background":"text-muted-foreground"),children:"AI"}),i.jsx("button",{onClick:()=>Ge("vet"),className:ge("px-3 py-1 text-xs font-medium rounded-full",he==="vet"?"bg-foreground text-background":"text-muted-foreground"),children:"Real vet"})]})]}),he==="ai"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"space-y-3 max-h-60 overflow-auto pr-2",children:vt.map((l,j)=>i.jsx("div",{className:ge("rounded-2xl px-3 py-2 text-sm",l.role==="assistant"?"bg-background/80 text-foreground":"bg-primary text-primary-foreground self-end ml-auto"),children:l.content},`${l.role}-${j}`))}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(rt,{value:_e,onChange:l=>gt(l.target.value),placeholder:"Ask about stool changes, meal plans, or mood...",rows:2}),i.jsx(q,{onClick:Nr,disabled:!_e.trim()||O,children:O?"Thinkingâ€¦":"Send to AI"})]})]}):L?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"rounded-xl bg-background/70 p-3 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:L.topic||"Vet consult in progress"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last update"," ",L.lastMessageAt?Nt(new Date(L.lastMessageAt),{addSuffix:!0}):"pending"]})]}),i.jsx(At,{variant:"outline",children:L.status})]}),i.jsxs("div",{className:"max-h-56 overflow-auto space-y-2 pr-1",children:[A.map(l=>i.jsxs("div",{className:ge("rounded-2xl px-3 py-2 text-sm",l.senderType==="vet"?"bg-primary text-primary-foreground":"bg-background/80"),children:[l.message,i.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:it(new Date(l.createdAt),"MMM d, h:mm a")})]},l.id)),A.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiting for your first update. Share how your pet is doing."})]}),i.jsx(rt,{value:Ee,onChange:l=>xt(l.target.value),placeholder:"Update your vet with new symptoms or progress",rows:3}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(q,{onClick:_r,disabled:!Ee.trim()||W,className:"flex-1",children:W?"Sendingâ€¦":"Send to vet"}),i.jsx(q,{variant:"outline",onClick:()=>t("/care"),children:"Open hub"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Need a human opinion? Spend 25 credits to chat with a licensed vet."}),i.jsx(rt,{value:He,onChange:l=>bt(l.target.value),placeholder:"Describe the concern so a vet can respond",rows:3}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(q,{onClick:Sr,disabled:Y,className:"flex-1",children:Y?"Connectingâ€¦":"Connect with vet (25 credits)"}),i.jsx(q,{variant:"outline",onClick:()=>t("/care"),children:"Learn more"})]})]})]}),i.jsxs("div",{className:"card-nude space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"font-display font-medium flex items-center gap-2",children:[i.jsx(pn,{className:"w-4 h-4"}),"Nearby vets"]}),i.jsx(q,{variant:"secondary",size:"sm",onClick:K,disabled:V,children:V?"Locatingâ€¦":R?"Refresh":"Detect location"})]}),I&&M&&i.jsx("p",{className:"text-sm text-destructive",children:M}),N.length>0?i.jsx("div",{className:"space-y-3",children:N.map(l=>i.jsxs("div",{className:"p-3 rounded-xl bg-background/80 flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-card-muted flex items-center justify-center",children:i.jsx(gn,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:l.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:l.address}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.distanceKm," km away"]})]}),i.jsx("a",{href:l.mapUrl,target:"_blank",rel:"noreferrer",className:"text-xs font-medium text-primary",children:"Open"})]},l.id))}):i.jsx("p",{className:"text-sm text-muted-foreground",children:I?"No clinics detected nearby yet. Try refreshing or widen your search radius.":"Allow location so we can map the closest vets for emergencies."})]})]}),i.jsx(et,{})]})}export{yi as default};
