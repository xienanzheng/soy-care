import{u as p,r,j as e,s as h,t as n}from"./index-DykhQkCz.js";import{M as j,a as g,P as w,B as c}from"./MobileLayout-D0P8EqVx.js";import{I as N}from"./input-BtP13zn0.js";import{A as y}from"./arrow-left-CdLBjOwR.js";import{M as v}from"./mail-CP880m6G.js";function P(){const s=p(),[t,d]=r.useState(""),[o,i]=r.useState(!1),[m,u]=r.useState(!1),x=async a=>{a.preventDefault(),i(!0);const f=`${window.location.origin}/reset-password`,{error:l}=await h.auth.resetPasswordForEmail(t,{redirectTo:f});if(i(!1),l){n({title:"Error",description:l.message,variant:"destructive"});return}u(!0),n({title:"Check your email",description:"We've sent you a password reset link."})};return e.jsxs(j,{children:[e.jsx(g,{leftAction:e.jsx("button",{onClick:()=>s("/login"),className:"p-2 -ml-2",children:e.jsx(y,{className:"w-5 h-5"})})}),e.jsx(w,{className:"flex flex-col items-center justify-center",children:m?e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:e.jsx(v,{className:"w-8 h-8 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-display font-semibold mb-2",children:"Check your email"}),e.jsxs("p",{className:"text-muted-foreground",children:["We've sent a password reset link to",e.jsx("br",{}),e.jsx("span",{className:"text-foreground font-medium",children:t})]})]}),e.jsx(c,{variant:"outline",onClick:()=>s("/login"),className:"w-full",children:"Back to Login"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-display font-semibold mb-2",children:"Forgot password?"}),e.jsx("p",{className:"text-muted-foreground",children:"No worries, we'll send you reset instructions."})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4 w-full",children:[e.jsx(N,{type:"email",placeholder:"you@example.com",value:t,onChange:a=>d(a.target.value),required:!0}),e.jsx(c,{type:"submit",className:"w-full",disabled:o,children:o?"Sending...":"Reset password"})]}),e.jsx("button",{onClick:()=>s("/login"),className:"text-sm text-muted-foreground hover:text-foreground mt-6",children:"‚Üê Back to login"})]})})]})}export{P as default};
